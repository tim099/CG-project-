#include "class/texture/texture2D/Texture2D.h"
#include "class/texture/Image.h"
Texture2D::Texture2D(GLuint _TexID,int _width,int _height,GLenum _format)
: Texture(_TexID,GL_TEXTURE_2D,_format){
	width=_width;
	height=_height;
}
Texture2D::~Texture2D() {

}
Texture2D* Texture2D::Tex2D(){
	return this;
}
void Texture2D::sent_uniform(GLuint programID,int num,const char *name)const{
	glUniform1i(glGetUniformLocation(programID,name),num);//texturebuffer
	glActiveTexture(GL_TEXTURE0+num);
	glBindTexture(target,TexID);//GL_TEXTURE_CUBE_MAP
}
Image* Texture2D::convert_to_image(GLenum _format){
	std::cout<<"format="<<format<<","<<_format<<std::endl;
	glBindTexture(GL_TEXTURE_2D,TexID);
	Image *img=new Image(width,height,_format);
	glGetTexImage(GL_TEXTURE_2D,0,_format,GL_UNSIGNED_BYTE,img->data);
	return img;
}
